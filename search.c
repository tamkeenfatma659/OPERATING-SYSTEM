#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <sys/wait.h>
#include <time.h>

int main() {
    int arr[30], Key1, Key2, status;
    pid_t p1, p2;

   srand (time (NULL));
   printf("Array:");
   for(int i = 0; i<30; i++) {
    arr[i] = rand() % 50 + 1;
    printf("%d", arr[i]);
    if (i== 14) print("| ");
    }
    
    printf("\n\n Enter Key 1 and Key 2:");
    scanf("%d %d", &Key 1, &Key 2);
    p1 = fork();
    if (p1 <0){
       perror ("FORK failed");
       return 1;
     }  
    
    //Child 1
    if  (p1 == 0) {
         int found_index = 255;
         for (int i =0; i<15; i++)
             if (arr[i] == Key1){
                found_index = i;
                break;
              }
          }
          exit (found_index);
    }      

   
   // parent waits for child 1
   
   waitpid(p1, &status, 0);
   int res1 = WEXITSTATUS(status);
   
   if (res1 == 25){
       printf("Child 1: Key %d not found in the first half. /n", Key1);
   } else {
       printf("Child 1 : Key %d found at index %d./n, Key 1, res 1);
  }  
   
   //Child 2
   
   p2 = fork();
   if (p2 < 0)  {
     perror("Fork failed");
     return 1;
     
   }
   
   if (p2 == 0) {
      int found_index = 255;
      for (int i = 15; i<30; i++) {
          if (arr[i] == Key2) {
              found_index = i;
              break;
           }
       }    
           exit (found_index);
   }        
           
   
   //Parent waits for Child 2
   waitpid(p2, &status, 0);
   int res2 = WEXITSTATUS(status);
   
   if (res2 == 255){
       printf ("Child 2: Key %d not found in the second half./n", Key2);
    } else {
         printf ("Child 2: Key %d at index %d./n", Key2, res2);
    }     
   return 0;
}   
    
 

